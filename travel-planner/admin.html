<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin — Travel Planner</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header"><div class="brand">Admin</div></header>
  <main style="padding:22px;">
    <h2>All Spots</h2>
    <div id="admin-spots"></div>
    <h2 style="margin-top:24px">Recent Choices</h2>
    <div id="admin-choices"></div>
  </main>

  <script src="firebase.js"></script>
  <script src="app.js"></script>
  <script>
    appListSpots().then(spots => {
      const el = document.getElementById('admin-spots');
      if(!spots.length) el.innerHTML = '<p style="color:var(--muted)">No spots</p>';
      else el.innerHTML = spots.map(s => `<div style="padding:8px;border-radius:8px;background:rgba(255,255,255,0.03);margin-bottom:8px"><strong>${s.title}</strong><div style="font-size:13px;color:var(--muted)">${s.description||''}</div></div>`).join('');
    });

    appListChoices().then(choices => {
      const el = document.getElementById('admin-choices');
      if(!choices.length) el.innerHTML = '<p style="color:var(--muted)">No choices</p>';
      else el.innerHTML = choices.map(c => `<div style="padding:8px;border-radius:8px;background:rgba(255,255,255,0.03);margin-bottom:8px"><strong>${c.choice}</strong> — ${c.spotId} — ${c.userId}</div>`).join('');
    });
  </script>
</body>
</html>
